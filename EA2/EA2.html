

    <!DOCTYPE html5>

    <html>
        <head>
			<meta charset="UTF-8">
			<title>2D Lines</title>
        </head>
        <body>

            <canvas id="canvas" width="500" height="500"></canvas>

            <script>

                // Get the WebGL context.

                var canvas = document.getElementById('canvas');

                var gl = canvas.getContext('experimental-webgl');

     

                // Pipeline setup.

                gl.clearColor(0, 0, 0, 1);

                // Backface culling.

                gl.frontFace(gl.CCW);

                gl.enable(gl.CULL_FACE);

                gl.cullFace(gl.BACK);

                //gl.cullFace(gl.FRONT);

     

                // Compile vertex shader.

                var vsSource = 'attribute vec2 pos;'+

                    'void main(){ gl_Position = vec4(pos*0.2-0.5, 0, 1); }'; 

                var vs = gl.createShader(gl.VERTEX_SHADER);

                gl.shaderSource(vs, vsSource);

                gl.compileShader(vs);

     

                // Compile fragment shader.

                fsSouce =  'void main() { gl_FragColor = vec4(1,1,1,1); }';

                var fs = gl.createShader(gl.FRAGMENT_SHADER);

                gl.shaderSource(fs, fsSouce);

                gl.compileShader(fs);

     

                // Link shader together into a program.

                var prog = gl.createProgram();

                gl.attachShader(prog, vs);

                gl.attachShader(prog, fs);

                gl.linkProgram(prog);

                gl.useProgram(prog);

     

                // Vertex data.

                var vertices = new Float32Array([ //

                    -2,-3, 2,0, 10,2, 3,10, 3,0, 10,0, 5,9, -10,7, 0,10, -5, 6,
                    3,-8, 5,-4, 6,3, 7,-2, 9,5, 1,4, 7,5,  -3,6,  8,4,  -9,3,
                    3,-5, 4,-3, 7,4, 1,3, 6,9, 2,1, 4,-3, -7,1, -2,5, 3,6 ]);

                // Index data.

                var indices = new Uint16Array([ //

                0,3, 2,0, 2,8, 3,2, 3,0, 1,0, 5,6, 2,7, 0,5, 11,14,
                3,15, 11,19, 19,6, 8,10, 1,16, 15,17, 4,18, 9,14, 4,7, 13,19,
                13,6, 6,1, 12,16, 20,24, 21,9, 22,26, 22,29, 29,28, 28,23, 23,25, 25,27, 20,1]);

     

                // Setup vertex buffer object.

                var vbo = gl.createBuffer();

                gl.bindBuffer(gl.ARRAY_BUFFER, vbo);

                gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

     

                // Connect vertex buffer to attribute variable.

                var posAttrib = gl.getAttribLocation(prog, 'pos');

                gl.vertexAttribPointer(posAttrib, 2, gl.FLOAT, false, 0, 0);

                gl.enableVertexAttribArray(posAttrib);

     

                // Setup index buffer object.

                var ibo = gl.createBuffer();

                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);

                gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, 

                    gl.STATIC_DRAW);

                ibo.numerOfEmements = indices.length;

     

                // Clear framebuffer and render primitives.

                gl.clear(gl.COLOR_BUFFER_BIT);

                gl.drawElements(gl.LINES, ibo.numerOfEmements, 

                    gl.UNSIGNED_SHORT, 0);  

            </script>

        </body>

    </html>

